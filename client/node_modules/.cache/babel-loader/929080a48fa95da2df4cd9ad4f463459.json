{"ast":null,"code":"import _slicedToArray from \"/Users/gbbowen/Documents/GitHub/Curriculum-Mapper-Capstone-Project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/gbbowen/Documents/GitHub/Curriculum-Mapper-Capstone-Project/client/src/templates/graphComponent.js\";\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport ForceGraph2D from \"react-force-graph-2d\";\nimport NodeRead from \"./nodeCRUDcommands/nodeRead\";\nimport LinkRead from \"./linkCRUDcommands/linkRead\";\nimport NodeUpdate from \"./nodeCRUDcommands/nodeUpdate\";\nimport NodeEdit from \"./nodeEditComponent\";\nimport LinkUpdate from \"./linkCRUDcommands/linkUpdate\";\n\nfunction linkHoverFunc(l) {\n  console.log(\"---------------------\");\n  console.log(\"Read Link\");\n  console.log(\"---------------------\");\n}\n\nfunction linkClickFunc(l) {\n  console.log(\"---------------------\");\n  console.log(\"update or delete link\" + l.id);\n  console.log(\"---------------------\");\n}\n\nfunction backgroundClickFunc(n) {\n  console.log(\"---------------------\");\n  console.log(\"create new node or link\");\n  console.log(\"---------------------\");\n}\n\nvar GraphComponent = function GraphComponent(data) {\n  var forceRef = useRef(null);\n  useEffect(function () {\n    forceRef.current.d3Force(\"charge\").strength(-400);\n  });\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      active = _useState2[0],\n      setActive = _useState2[1];\n\n  function nodeEditFunc(n) {\n    setActive(\"\");\n    setActive(\"NodeEdit\");\n    console.log(\"Read NODE\");\n    console.log(\"---------------------\");\n  }\n  /* var data = {\n       nodes:[\n           {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6, \"deleted\":false, \"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n           {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n           {\"deleted\":false,\"describe\":\"present and defend opinions by making judgments about information. validity of ideas, or quality of work based on a set of criteria.\",\"id\":292,\"level\":\"IV.Analyzing\",\"outcome\":\"(5) communicate effectively with stakeholders.\",\"outcomeId\":\"5\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n           {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n           {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n           {\"deleted\":false,\"describe\":\"Exhibit memory of previously learned material by recalling facts, terms,basic concepts, and answers.\",\"id\":289,\"level\":\"I.Remembering\",\"outcome\":\"(2) select appropriate data visualisation options; \",\"outcomeId\":\"2\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n           {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n           {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n           {\"deleted\":false,\"describe\":\"Present and defend opinions by making judgments about information, validity of ideas, or quality of work based on a set of criteria.\",\"id\":291,\"level\":\"V. Evaluating\",\"outcome\":\"(4) critically assess the outcomes of a data analysis; \",\"outcomeId\":\"4\",\"type\":\"node\",\"unitCode\":\"CITS4009\"}],\n       links:[\n           {\"property\":{\"deleted\":false,\"id\":241,\"type\":\"relationship\"},\"source\":183,\"target\":292},\n           {\"property\":{\"deleted\":false,\"id\":238,\"type\":\"relationship\"},\"source\":183,\"target\":289},\n           {\"property\":{\"deleted\":false,\"id\":240,\"type\":\"relationship\"},\"source\":183,\"target\":291}],\n       }\n  */\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, active === \"NodeEdit\" && /*#__PURE__*/React.createElement(NodeEdit, {\n    start: \"NodeRead\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(ForceGraph2D, {\n    graphData: data,\n    width: window.innerWidth * 0.6,\n    height: window.innerHeight * 0.8,\n    backgroundColor: \"grey\",\n    onNodeDragEnd: function onNodeDragEnd(node) {\n      node.fx = node.x;\n      node.fy = node.y;\n      node.fz = node.z;\n    },\n    cooldownTicks: 100,\n    onEngineStop: function onEngineStop() {\n      return forceRef.current.zoomToFit(400);\n    } //nodeLabel={n => nodeHoverFunc(n)}\n    ,\n    onNodeClick: function onNodeClick(n) {\n      return nodeEditFunc(n);\n    } //onNodeRightClick={()=> setActive(\"NodeUpdate\")}\n    ,\n    onLinkClick: function onLinkClick() {\n      return setActive(\"LinkRead\");\n    } //onLinkRightClick={()=> setActive(\"LinkUpdate\")}\n    ,\n    onBackgroundClick: function onBackgroundClick(b) {\n      return backgroundClickFunc(b);\n    },\n    linkCurvature: \"curvature\",\n    enablePointerInteraction: true,\n    linkDirectionalParticleWidth: 1,\n    ref: forceRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default GraphComponent;","map":{"version":3,"names":["React","useRef","useEffect","useState","ForceGraph2D","NodeRead","LinkRead","NodeUpdate","NodeEdit","LinkUpdate","linkHoverFunc","l","console","log","linkClickFunc","id","backgroundClickFunc","n","GraphComponent","data","forceRef","current","d3Force","strength","active","setActive","nodeEditFunc","window","innerWidth","innerHeight","node","fx","x","fy","y","fz","z","zoomToFit","b"],"sources":["/Users/gbbowen/Documents/GitHub/Curriculum-Mapper-Capstone-Project/client/src/templates/graphComponent.js"],"sourcesContent":["import React, { useRef, useEffect, useState, } from \"react\";\nimport ForceGraph2D from \"react-force-graph-2d\";\nimport NodeRead from \"./nodeCRUDcommands/nodeRead\";\nimport LinkRead from \"./linkCRUDcommands/linkRead\";\nimport NodeUpdate from \"./nodeCRUDcommands/nodeUpdate\";\nimport NodeEdit from \"./nodeEditComponent\";\n\nimport LinkUpdate from \"./linkCRUDcommands/linkUpdate\";\n\n\n\nfunction  linkHoverFunc(l) {\n\n    console.log(\"---------------------\");\n    console.log(\"Read Link\");\n    console.log(\"---------------------\");\n}\n\nfunction  linkClickFunc(l) {\n\n    console.log(\"---------------------\");\n    console.log(\"update or delete link\" + l.id);\n\n    console.log(\"---------------------\");\n}\n\nfunction  backgroundClickFunc(n) {\n\n    console.log(\"---------------------\");\n    console.log(\"create new node or link\");\n    console.log(\"---------------------\");\n}\n\nconst GraphComponent = (data) => {\n\n    const forceRef = useRef(null);\n    useEffect(() => {\n        forceRef.current.d3Force(\"charge\").strength(-400);\n    });\n\n    const [active, setActive] = useState(\"\")\n\n    function  nodeEditFunc(n) {\n\n        setActive(\"\");\n        setActive(\"NodeEdit\");\n        console.log(\"Read NODE\");\n        console.log(\"---------------------\");\n    }\n    \n\n\n\n   /* var data = {\n        nodes:[\n            {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6, \"deleted\":false, \"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n            {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n            {\"deleted\":false,\"describe\":\"present and defend opinions by making judgments about information. validity of ideas, or quality of work based on a set of criteria.\",\"id\":292,\"level\":\"IV.Analyzing\",\"outcome\":\"(5) communicate effectively with stakeholders.\",\"outcomeId\":\"5\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n            {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n            {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n            {\"deleted\":false,\"describe\":\"Exhibit memory of previously learned material by recalling facts, terms,basic concepts, and answers.\",\"id\":289,\"level\":\"I.Remembering\",\"outcome\":\"(2) select appropriate data visualisation options; \",\"outcomeId\":\"2\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n            {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n            {\"availabilities\":\"Semester 2 2021, Crawley (Face to face); Semester 2 2021, Crawley (Online-TT) [Contact hours: n/a];\",\"credit\":6,\"deleted\":false,\"id\":183,\"programmingBased\":true,\"title\":\"Computational Data Analysis\",\"type\":\"node\",\"unitCode\":\"CITS4009\"},\n            {\"deleted\":false,\"describe\":\"Present and defend opinions by making judgments about information, validity of ideas, or quality of work based on a set of criteria.\",\"id\":291,\"level\":\"V. Evaluating\",\"outcome\":\"(4) critically assess the outcomes of a data analysis; \",\"outcomeId\":\"4\",\"type\":\"node\",\"unitCode\":\"CITS4009\"}],\n        links:[\n            {\"property\":{\"deleted\":false,\"id\":241,\"type\":\"relationship\"},\"source\":183,\"target\":292},\n            {\"property\":{\"deleted\":false,\"id\":238,\"type\":\"relationship\"},\"source\":183,\"target\":289},\n            {\"property\":{\"deleted\":false,\"id\":240,\"type\":\"relationship\"},\"source\":183,\"target\":291}],\n        }\n*/\n    return ( \n        <div>\n        \n        {active === \"NodeEdit\" && <NodeEdit start = \"NodeRead\"/>}\n\n\n        \n\n\n        <ForceGraph2D\n        graphData={data}\n\n        width = {window.innerWidth*0.6}\n        height = {window.innerHeight*0.8}\n\n        backgroundColor=\"grey\"\n\n        onNodeDragEnd={node => {\n            node.fx = node.x;\n            node.fy = node.y;\n            node.fz = node.z;\n        }}\n\n        cooldownTicks={100}\n        onEngineStop={() => forceRef.current.zoomToFit(400)}\n\n        //nodeLabel={n => nodeHoverFunc(n)}\n        onNodeClick = {n => nodeEditFunc(n)}\n        //onNodeRightClick={()=> setActive(\"NodeUpdate\")}\n\n        onLinkClick={()=> setActive(\"LinkRead\")}\n        //onLinkRightClick={()=> setActive(\"LinkUpdate\")}\n        \n        onBackgroundClick={b => backgroundClickFunc(b)}\n\n        linkCurvature=\"curvature\"\n        enablePointerInteraction={true}\n        linkDirectionalParticleWidth={1}\n\n        ref={forceRef}\n        />\n\n        </div>\n    );\n}\n\nexport default GraphComponent;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}